2016/01/31 Shano.i

講義でテキトーに作ったAndroidAppですが，なかなかに改良の余地ありなのでGitHubに公開しつつ(時間に余裕ができたら)改良していこうと思った次第です．

というわけで以下，Appの説明

-------------------------------------------------------------------

このAppは，簡単に言うと，ねむみ防止アプリになります．
半分くらいはジョークアプリですが，もう半分はそれなりに使えるアプリです(実体験済み)
実行にはAndroid端末のみならず，Heart Rateセンサが搭載されたAndroid Wearが必須です．やろうと思えばandroid端末のみでもできそうではあるので，まぁその時は考えます．

動作に関して，3つの段階にわけられます．

1.心拍測定(HrS Activity)
ユーザの心拍を測定し，表示します．心拍の変化値が閾値より大きくなると，振動し，Handheldへメッセージを送信します．

2.ボタン＆カウントダウン(Main Activity)
メッセージを受け取ったHandheldはカウントダウンを開始します．0になるまでにボタンが押されなければ，というやつです．

3.顔検知(Face Detection)
ボタンが押されなかった場合，カメラが起動します．ここが肝なのですが，Handheldはいい感じの位置(机上)においておく必要があります．つまり，ユーザがねむみに負けて船をこぐと，端末のフロントカメラにユーザの顔が映り，その顔を検出すると，ユーザは寝てしまっている，と判断するわけであります．

これら3つの段階を経て，ユーザが寝ていると判断した場合，可愛い女の子の声が周囲に響き渡ります．恥ずかしくて目が覚める，という算段です．
なお，この音声は効果音ラボ(http://soundeffect-lab.info/)から拝借しています．


-------------------------------------------------------------------

さて，アプリの説明は以上です，
実のところ，3つの機能のうち，後半2つはジョークです．実際うまくいくはずもありません．
しかし，最初の心拍監視の機能においては，それなりに使えます．
http://itpro.nikkeibp.co.jp/article/COLUMN/20060302/231616/?rt=nocnt
上記webページより，心拍が短時間でガクッと下がるとユーザはねむみな状態にあるようです，実際，私自身が利用して，それなりに効果が出ています．

というわけで，今後改良を加えるに辺り，心拍監視機能のみ手を加えていく所存であります．やる気があれば，後半2つの機能は除外した状態で更新します．

予定としては，
Serviceを利用してバックグラウンドで心拍測定と監視
stubを利用して利用できるwearを増やす．
脈拍の変化をHandheldへ送信し，ログを取る，グラフ化機能の追加
グラフから，ユーザ個々人にあったしきい値を設定する機能の追加

となっております．もちろん，あくまでやる気と時間的余裕があればの話ですが．
何かありましたらshano.i@outlook.jpまで．